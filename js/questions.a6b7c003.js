(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["questions"],{"66ba":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"px-5",attrs:{fluid:""}},[i("v-row",{staticClass:"mb-3",attrs:{justify:"space-between"}},[i("v-col",{attrs:{cols:"12",sm:"6",md:"4",xl:"2","align-self":"end"}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mr-1",attrs:{icon:"",color:"blue darken-3 white--text",large:""},on:{click:t.showAddModal}},"v-btn",a,!1),s),[i("v-icon",[t._v("mdi-plus")])],1)]}}])},[i("span",[t._v("Add Question")])]),i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("v-btn",t._g(t._b({staticClass:"mr-1",attrs:{icon:"",color:"secondary"},on:{click:t.handleFilter}},"v-btn",a,!1),s),[i("v-icon",[t._v("mdi-cached")])],1)]}}])},[i("span",[t._v("Refresh Questions")])])],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"4",xl:"3"}},[i("v-text-field",{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"auto",disabled:t.isLoading,clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.records,"item-key":"id",search:t.search,loading:t.isLoading,"loading-text":"Loading... Please wait","sort-by":t.sortBy,"sort-desc":t.sortDesc},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var s=e.item;return[i("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",small:""},on:{click:function(e){return t.viewInfo(s)}}},"v-btn",o,!1),a),[i("v-icon",{attrs:{size:"large",color:"blue darken-3"}},[t._v(" mdi-note-edit-outline ")])],1)]}}],null,!0)},[i("span",[t._v("View / Update")])])]}},{key:"item.is_active",fn:function(e){var s=e.item;return[i("v-chip",{attrs:{color:"Active"==s.is_active?"success":"red",dark:"",small:"",label:""}},["Active"==s.is_active?i("v-icon",{attrs:{left:"",size:"medium"}},[t._v(" mdi-check ")]):i("v-icon",{attrs:{left:"",size:"medium"}},[t._v(" mdi-close ")]),t._v(" "+t._s(s.is_active)+" ")],1)]}}])}),t.viewInfoModal?i("ViewInfoModal",{attrs:{modalData:t.viewInfoModalData},on:{closeModal:function(e){t.viewInfoModal=!1},refresh:t.handleFilter}}):t._e(),t.addModal?i("AddModal",{attrs:{modalData:t.addModalData},on:{closeModal:function(e){t.addModal=!1},refresh:t.handleFilter}}):t._e()],1)},a=[],o=i("5530"),n=i("2f62"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{width:"1000"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h6"},[t._v("Add Question")])]),i("v-divider"),i("v-card-text",{staticClass:"pt-3 pb-6"},[i("v-alert",{staticClass:"mb-3",attrs:{value:!!t.addError,dense:"",outlined:"",type:"error",transition:"scale-transition",icon:"mdi-exclamation-thick"}},[t._v(" "+t._s(t.addError)+" ")]),i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("div",{staticClass:"mb-2"},[i("small",[t._v("* indicates required field")])]),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{ref:"question",attrs:{rules:t.questionRules,label:"Question*",counter:"200",maxlength:"200","hide-details":"auto"},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}})],1)],1),i("div",{staticClass:"mt-5"},[i("p",[t._v("Choices")]),t._l(t.choices,(function(e,s){return i("v-row",{key:s},[s>0?i("v-col",{attrs:{cols:"12"}},[i("v-divider",{staticClass:"brown lighten-5"})],1):t._e(),i("v-col",{attrs:{cols:"12",sm:"9",md:"9"}},[i("v-text-field",{attrs:{rules:t.descriptionRules,label:"Description*",counter:"150",maxlength:"150","hide-details":"auto"},model:{value:e.description,callback:function(i){t.$set(e,"description",i)},expression:"choice.description"}})],1),i("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[i("v-select",{attrs:{rules:t.is_correctRules,items:t.isCorrect,label:"Is Correct*","hide-details":"auto"},model:{value:e.is_correct,callback:function(i){t.$set(e,"is_correct",i)},expression:"choice.is_correct"}})],1),s>1?i("v-col",{attrs:{cols:"12"}},[i("v-btn",{staticClass:"text-capitalize",attrs:{color:"red darken-1",small:"",outlined:""},on:{click:function(e){return t.removeChoice(s)}}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-delete-outline ")]),t._v(" Remove ")],1)],1):t._e()],1)})),i("v-btn",{staticClass:"mt-5",attrs:{color:"info",small:"",outlined:""},on:{click:t.addChoice}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-plus ")]),t._v(" Add Choice ")],1)],2),i("div",{staticClass:"mt-5"},[i("v-btn",{staticClass:"mr-2 mt-2",attrs:{disabled:!t.valid,type:"submit",color:"blue darken-3 white--text",loading:t.addLoading,depressed:""}},[t._v(" Add ")]),i("v-btn",{staticClass:"mt-2",attrs:{color:"secondary",depressed:"",outlined:""},on:{click:t.closeModal}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)},r=[],l=i("1da1"),d=(i("96cf"),i("a434"),{props:{modalData:{type:Object,required:!0}},data:function(){return{valid:!0,question:"",questionRules:[function(t){return!!t||"This field is required."}],choices:[{description:"",is_correct:"No"}],descriptionRules:[function(t){return!!t||"This field is required."}],isCorrect:["No","Yes"],is_correctRules:[function(t){return!!t||"This field is required."}]}},computed:Object(o["a"])(Object(o["a"])({},Object(n["d"])("questions",["addLoading","addError"])),{},{dialog:{get:function(){return this.modalData.dialog},set:function(){this.closeModal()}}}),mounted:function(){this.$refs.question.focus()},methods:Object(o["a"])(Object(o["a"])({},Object(n["b"])("questions",["addQuestion"])),{},{addChoice:function(){this.choices.push({description:"",is_correct:"No"})},removeChoice:function(t){this.choices.splice(t,1)},handleSubmit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.addLoading){e.next=4;break}return e.next=3,t.addQuestion({question:t.question,choices:t.choices});case 3:t.addError||(t.$refs.form.reset(),t.$emit("refresh"),t.closeModal());case 4:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("closeModal")}})}),u=d,v=i("2877"),h=i("6544"),f=i.n(h),m=i("0798"),p=i("8336"),b=i("b0af"),_=i("99d9"),g=i("62ad"),C=i("169a"),w=i("ce7e"),x=i("4bd4"),k=i("132d"),q=i("0fd9"),V=i("b974"),y=i("8654"),D=Object(v["a"])(u,c,r,!1,null,null,null),j=D.exports;f()(D,{VAlert:m["a"],VBtn:p["a"],VCard:b["a"],VCardText:_["c"],VCardTitle:_["d"],VCol:g["a"],VDialog:C["a"],VDivider:w["a"],VForm:x["a"],VIcon:k["a"],VRow:q["a"],VSelect:V["a"],VTextField:y["a"]});var M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{width:"1000px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h6"},[t._v("Update Question")])]),i("v-divider"),i("v-card-text",{staticClass:"pt-3 pb-6"},[i("v-alert",{staticClass:"mb-3",attrs:{value:!!t.updateError,dense:"",outlined:"",type:"error",transition:"scale-transition",icon:"mdi-exclamation-thick"}},[t._v(" "+t._s(t.updateError)+" ")]),i("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("div",{staticClass:"mb-2"},[i("small",[t._v("* indicates required field")])]),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-text-field",{ref:"question",attrs:{rules:t.questionRules,label:"Question*",counter:"200",maxlength:"200","hide-details":"auto"},model:{value:t.question,callback:function(e){t.question=e},expression:"question"}})],1)],1),i("div",{staticClass:"mt-5"},[i("p",[t._v("Choices")]),t._l(t.choices,(function(e,s){return i("v-row",{key:s},[s>0?i("v-col",{attrs:{cols:"12"}},[i("v-divider",{staticClass:"brown lighten-5"})],1):t._e(),i("v-col",{attrs:{cols:"12",sm:"9",md:"9"}},[i("v-text-field",{attrs:{rules:t.descriptionRules,label:"Description*",counter:"150",maxlength:"150","hide-details":"auto"},model:{value:e.description,callback:function(i){t.$set(e,"description",i)},expression:"choice.description"}})],1),i("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[i("v-select",{attrs:{rules:t.is_correctRules,items:t.isCorrect,label:"Is Correct*","hide-details":"auto"},model:{value:e.is_correct,callback:function(i){t.$set(e,"is_correct",i)},expression:"choice.is_correct"}})],1),s>1?i("v-col",{attrs:{cols:"12"}},[i("v-btn",{staticClass:"text-capitalize",attrs:{color:"red darken-1",small:"",outlined:""},on:{click:function(e){return t.removeChoice(s)}}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-delete-outline ")]),t._v(" Remove ")],1)],1):t._e()],1)})),i("v-btn",{staticClass:"mt-5",attrs:{color:"info",small:"",outlined:""},on:{click:t.addChoice}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-plus ")]),t._v(" Add Choice ")],1)],2),i("div",{staticClass:"mt-6"},[i("v-switch",{attrs:{label:"Status: "+t.statusText},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),i("div",[i("v-btn",{staticClass:"mr-2 mt-2",attrs:{disabled:!t.valid,type:"submit",color:"blue darken-3 white--text",loading:t.updateLoading,depressed:""}},[t._v(" Save ")]),i("v-btn",{staticClass:"mt-2",attrs:{color:"secondary",depressed:"",outlined:""},on:{click:t.closeModal}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)},O=[],S=i("2909"),R={props:{modalData:{type:Object,required:!0}},data:function(){return{valid:!0,question:"",questionRules:[function(t){return!!t||"This field is required."}],choices:[],descriptionRules:[function(t){return!!t||"This field is required."}],isCorrect:["No","Yes"],is_correctRules:[function(t){return!!t||"This field is required."}],status:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(n["d"])("questions",["updateLoading","updateError"])),{},{dialog:{get:function(){return this.modalData.dialog},set:function(){this.closeModal()}},statusText:function(){return this.status?"Active":"Inactive"}}),mounted:function(){this.$refs.question.focus(),this.question=this.modalData.question,this.choices=Object(S["a"])(this.modalData.choices),this.status="Active"==this.modalData.is_active},beforeDestroy:function(){this.$store.commit("questions/setUpdateError",null)},methods:Object(o["a"])(Object(o["a"])({},Object(n["b"])("questions",["updateQuestion"])),{},{addChoice:function(){this.choices.push({description:"",is_correct:""})},removeChoice:function(t){this.choices.splice(t,1)},handleSubmit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.updateLoading){e.next=4;break}return e.next=3,t.updateQuestion({id:t.modalData.id,question:t.question,choices:t.choices,status:t.status});case 3:t.updateError||(t.$emit("refresh"),t.closeModal());case 4:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("closeModal")}})},A=R,$=i("b73d"),T=Object(v["a"])(A,M,O,!1,null,null,null),I=T.exports;f()(T,{VAlert:m["a"],VBtn:p["a"],VCard:b["a"],VCardText:_["c"],VCardTitle:_["d"],VCol:g["a"],VDialog:C["a"],VDivider:w["a"],VForm:x["a"],VIcon:k["a"],VRow:q["a"],VSelect:V["a"],VSwitch:$["a"],VTextField:y["a"]});var E={components:{AddModal:j,ViewInfoModal:I},data:function(){return{search:"",sortBy:"created_at",sortDesc:!0,headers:[{text:"Action",value:"actions",sortable:!1,align:"center"},{text:"Status",value:"is_active"},{text:"Question",value:"question"},{text:"Choices Count",value:"choices_count"},{text:"Added By",value:"added_by"},{text:"Created At",value:"created_at"},{text:"Updated At",value:"updated_at"}],viewInfoModal:!1,viewInfoModalData:[],addModal:!1,addModalData:[]}},created:function(){this.handleFilter()},computed:Object(o["a"])({},Object(n["d"])("questions",["records","isLoading"])),methods:Object(o["a"])(Object(o["a"])({},Object(n["b"])("questions",["getQuestions"])),{},{handleFilter:function(){this.isLoading||(this.$store.commit("questions/setRecords",[]),this.getQuestions())},viewInfo:function(t){this.viewInfoModal=!0,this.viewInfoModalData=Object(o["a"])(Object(o["a"])({},t),{},{dialog:this.viewInfoModal})},showAddModal:function(){this.addModal=!0,this.addModalData={dialog:this.addModal}}})},L=E,Q=i("cc20"),B=i("a523"),F=i("8fea"),z=i("3a2f"),N=Object(v["a"])(L,s,a,!1,null,null,null);e["default"]=N.exports;f()(N,{VBtn:p["a"],VChip:Q["a"],VCol:g["a"],VContainer:B["a"],VDataTable:F["a"],VIcon:k["a"],VRow:q["a"],VTextField:y["a"],VTooltip:z["a"]})},"9d01":function(t,e,i){},b73d:function(t,e,i){"use strict";var s=i("15fd"),a=i("5530"),o=(i("0481"),i("4069"),i("ec29"),i("9d01"),i("fe09")),n=i("c37a"),c=i("c3f0"),r=i("0789"),l=i("490a"),d=i("80d2"),u=["title"];e["a"]=o["a"].extend({name:"v-switch",directives:{Touch:c["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset})},attrs:function(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.isDisabled),role:"switch"}},validationState:function(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData:function(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot:function(){return[this.genSwitch(),this.genLabel()]},genSwitch:function(){var t=this.attrs$,e=(t.title,Object(s["a"])(t,u));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},this.attrs),e)),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__track"},this.switchData)),this.$createElement("div",Object(a["a"])({staticClass:"v-input--switch__thumb"},this.switchData),[this.genProgress()])])},genProgress:function(){return this.$createElement(r["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(l["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft:function(){this.isActive&&this.onChange()},onSwipeRight:function(){this.isActive||this.onChange()},onKeydown:function(t){(t.keyCode===d["z"].left&&this.isActive||t.keyCode===d["z"].right&&!this.isActive)&&this.onChange()}}})}}]);
//# sourceMappingURL=questions.a6b7c003.js.map